<template>
    <div class="add-army container">
        <div class="row">
            <div class="column">
                <h3>Name</h3>
                <input v-model="name" type="text" placeholder="Enter name here..." />
            </div>
            <div class="column">
                <h3>Units</h3>
                <input v-model="units" type="range" min="80" max="100" value="100" id="slider">
                <span class="value">{{ units }}</span>
            </div>
        </div>

        <h3>Attack Strategy</h3>
        <div class="strategies">
            <div @click="selectStrategy(0)" class="option" :class="strategy == 0 ? 'selected' : ''">
                <svg class="Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 0h512v512H0z" fill="#000" fill-opacity="0"></path><g class="" transform="translate(0,0)" style="touch-action: none;"><path d="M255.76 44.764c-6.176 0-12.353 1.384-17.137 4.152L85.87 137.276c-9.57 5.536-9.57 14.29 0 19.826l152.753 88.36c9.57 5.536 24.703 5.536 34.272 0l152.753-88.36c9.57-5.535 9.57-14.29 0-19.825l-152.753-88.36c-4.785-2.77-10.96-4.153-17.135-4.153zm-.824 53.11c9.013.097 17.117 2.162 24.31 6.192 4.92 2.758 8.143 5.903 9.666 9.438 1.473 3.507 1.56 8.13.26 13.865l-1.6 5.706c-1.06 4.083-1.28 7.02-.66 8.81.57 1.764 1.983 3.278 4.242 4.544l3.39 1.898-33.235 18.62-3.693-2.067c-4.118-2.306-6.744-4.912-7.883-7.82-1.188-2.935-.99-7.603.594-14.005l1.524-5.748c.887-3.423.973-6.23.26-8.418-.653-2.224-2.134-3.983-4.444-5.277-3.515-1.97-7.726-2.676-12.63-2.123-4.956.526-10.072 2.268-15.35 5.225-4.972 2.785-9.487 6.272-13.55 10.46-4.112 4.162-7.64 8.924-10.587 14.288L171.9 138.21c5.318-5.34 10.543-10.01 15.676-14.013 5.134-4 10.554-7.6 16.262-10.8 14.976-8.39 28.903-13.38 41.78-14.967 3.208-.404 6.315-.59 9.32-.557zm50.757 56.7l26.815 15.024-33.235 18.62-26.816-15.023 33.236-18.62zM75.67 173.84c-5.753-.155-9.664 4.336-9.664 12.28v157.696c0 11.052 7.57 24.163 17.14 29.69l146.93 84.848c9.57 5.526 17.14 1.156 17.14-9.895V290.76c0-11.052-7.57-24.16-17.14-29.688l-146.93-84.847c-2.69-1.555-5.225-2.327-7.476-2.387zm360.773.002c-2.25.06-4.783.83-7.474 2.385l-146.935 84.847c-9.57 5.527-17.14 18.638-17.14 29.69v157.7c0 11.05 7.57 15.418 17.14 9.89L428.97 373.51c9.57-5.527 17.137-18.636 17.137-29.688v-157.7c0-7.942-3.91-12.432-9.664-12.278zm-321.545 63.752c6.553 1.366 12.538 3.038 17.954 5.013 5.415 1.976 10.643 4.417 15.68 7.325 13.213 7.63 23.286 16.324 30.218 26.082 6.932 9.7 10.398 20.046 10.398 31.04 0 5.64-1.055 10.094-3.168 13.364-2.112 3.212-5.714 5.91-10.804 8.094l-5.2 1.92c-3.682 1.442-6.093 2.928-7.23 4.46-1.137 1.472-1.705 3.502-1.705 6.092v3.885l-29.325-16.933v-4.23c0-4.72.892-8.376 2.68-10.97 1.787-2.652 5.552-5.14 11.292-7.467l5.2-2.006c3.087-1.21 5.334-2.732 6.742-4.567 1.46-1.803 2.192-4.028 2.192-6.676 0-4.027-1.3-7.915-3.9-11.66-2.6-3.804-6.227-7.05-10.885-9.74-4.387-2.532-9.126-4.29-14.217-5.272-5.09-1.04-10.398-1.254-15.922-.645v-27.11zm269.54 8.607c1.522 0 2.932.165 4.232.493 6.932 1.696 10.398 8.04 10.398 19.034 0 5.64-1.056 11.314-3.168 17.023-2.112 5.65-5.714 12.507-10.804 20.568l-5.2 7.924c-3.682 5.695-6.093 9.963-7.23 12.807-1.137 2.785-1.705 5.473-1.705 8.063v3.885l-29.325 16.932v-4.23c0-4.72.894-9.41 2.68-14.067 1.79-4.715 5.552-11.55 11.292-20.504l5.2-8.01c3.087-4.776 5.334-8.894 6.742-12.354 1.46-3.492 2.192-6.562 2.192-9.21 0-4.028-1.3-6.414-3.898-7.158-2.6-.8-6.23.142-10.887 2.83-4.387 2.533-9.124 6.25-14.215 11.145-5.09 4.84-10.398 10.752-15.922 17.74v-27.11c6.553-6.2 12.536-11.44 17.95-15.718 5.417-4.278 10.645-7.87 15.68-10.777 10.738-6.2 19.4-9.302 25.99-9.307zm-252.723 94.515l29.326 16.93v30.736l-29.325-16.93v-30.735zm239.246 8.06v30.735l-29.325 16.93v-30.733l29.326-16.932z" fill="#fff" fill-opacity="1"></path></g></svg>
                <p>Random</p>
            </div>
            <div @click="selectStrategy(1)" class="option" :class="strategy == 1 ? 'selected' : ''">
                <svg class="Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 0h512v512H0z" fill="#000" fill-opacity="0"></path><g class="" transform="translate(0,0)" style="touch-action: none;"><path d="M300.6 33.55l-2.5 29.87s-5.7-7.45-12.3-16.2c-6.7 8.19-11.3 17.33-12.2 25.36 2.7 15.69 25.2 31.22 36.5 38.52l8.4 5.2-5.7 8c-34.3 48.4-83.3 112.5-123.7 154.5 14.4 2.4 29.4 6.3 45.1 13.5 40.7-46 94.2-111.7 141.1-155.4l7.9-7.4 6 9.2c10.6 12.8 23.5 23.2 36.4 30.4 1.7-13.3 1.8-25.4-3.2-36.9l-4.5-10 25.7-6.5-15.2-24.65 10.5-3.91c16.4-6.14 26.5-13.85 31.5-23.85-4.8-5.39-15-8.5-20.3-6.46-15.7 4.05-41.9 27.93-54.5 30.53-6 1.15-13.3 1.33-20.6-.68-3.7-1-7.5-2.57-10.8-5.57-11-16.53-7.8-33.91-18.7-51.62-2.8-4.69-6.5-6.75-11.3-7.06-11.7-.21-25.8 5.85-33.6 11.12zm179.9 47.58c-6.3 7.67-14.9 13.91-25.1 18.84l17 27.33-29.8 7.6c3.8 14.6 2.5 28.9.4 42.5 7.5 3.2 18.9-6.6 22.6-10.1 7.5-7.1 14.2-17.1 17.6-29.6 4.5-16.7 3.4-39.47-2.7-56.57zM173.1 295.1c-5.8 2.1-8.9 6.4-11.4 11.4 16 4.6 31.1 8.7 46.2 15 .2.1.3.1.6.2 6.8-2.6 12-6.8 12.9-14.9-16.5-6.9-32.3-9.9-48.3-11.7zm-26.4 26.2c-.1.1-.2.2-.3.4.1-.1.2-.1.4-.2zm-.7.7c-6.1 2.4-11.6 5.7-13.4 13 17.6 6.1 33 13.4 45.5 21.9 8-4.1 14.1-10.8 17.6-20.5-16.5-5.1-32.8-12.2-49.7-14.4zm-28.4 27.3c-8-.2-7.9 5.2-9.8 9.2 13.5 13.7 26.8 25.6 39.3 34.8 7.7-4.7 14.7-11.1 19.1-22.3-12.6-8.2-29-15.4-48.6-21.7zm-23.29 21.9c-4.58 1-8.44 4.6-11.52 10.7 9.58 16.7 22.71 30.1 38.81 41.2 6.3-3.6 12.1-7.9 13.5-15.8-13.2-9.9-27-22.2-40.79-36.1zm-25.32 23.4c-9.85 9.1-19.72 18.2-29.58 27.3 3.28 1 6.43 2.7 9.3 4.6 8.06 5.4 15.11 13.9 20.28 24.3 4.03 8.2 6.41 16.5 7.02 24.4 11.22-12.6 22.44-25.2 33.39-38.1-16-11.5-29.88-25.4-40.41-42.5zm-39.51 44.6c-1.28.7-3.11 2.9-3.45 8.6-.25 5.7 1.33 13.8 5.27 21.7 3.95 7.9 9.36 14.1 14.05 17.3 4.79 3.2 7.71 3.2 8.99 2.5 1.28-.6 3.12-2.9 3.45-8.6.25-5.7-1.32-13.8-5.27-21.7-3.95-8-9.36-14-14.04-17.3-2.81-1.6-5.82-3.7-9-2.5z" fill="#fff" fill-opacity="1"></path></g></svg>
                <p>Weakest</p>
            </div>
            <div @click="selectStrategy(2)" class="option" :class="strategy == 2 ? 'selected' : ''">
                <svg class="Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 0h512v512H0z" fill="#000" fill-opacity="0"></path><g class="" transform="translate(0,0)" style="touch-action: none;"><path d="M490.74 21.411c-8.947.782-20.72 3.22-33.566 7.781-16.386 5.82-34.345 14.758-50.969 25.893l26.783 36.525c15.712-12.52 29.853-26.925 40.428-40.757 8.265-10.811 14.055-21.243 17.324-29.442zm-99.265 44.026L57.609 310.24l8.28 11.291 83.062-60.906 10.643 14.516-83.063 60.906 8.28 11.29 333.865-244.806zm-18.252 92.746L203.164 282.876l13.924 7.15L375.855 173.61zm-48.602 75.316l-35.775 26.234c3.899 3.046 8.821 4.856 14.213 4.856 12.809 0 23-10.191 23-23 0-2.855-.51-5.579-1.438-8.09zm-255.267 7.527L21.26 260.67l25.705 35.057 65.54-48.057zm226.705 40.948v30.615h14v-30.615a40.734 40.734 0 0 1-7 .615c-2.386 0-4.723-.219-7-.615zm-135.065 31.822l-65.54 48.058 25.706 35.06 33.194-39.964zm-117.9 7.09l-11.291 8.279 27.2 37.096 11.29-8.28zm236.965 9.703v78h46v-78zm-18 54.336l-61.426 71.664h23.709l37.717-44.004zm82 0v27.66l37.716 44.004h23.71zm-192 89.664v16h94v-16zm208 0v16h94v-16z" fill="#fff" fill-opacity="1"></path></g></svg>
                <p>Strongest</p>
            </div>
        </div>

        <button @click="submit" type="button">Create Army</button>
    </div>
</template>

<script>
    import { addArmy } from "../services/games";

    export default {
        name: 'AddArmy',
        data() {
            return {
                name: '',
                units: 80,
                strategy: 0
            }
        },
        methods: {
            selectStrategy(strategy) {
                this.strategy = strategy;
            },
            submit() {
                let formData = {
                    name: this.name,
                    starting_units: this.units,
                    strategy: this.strategy
                };

                addArmy(this.$route.params.id, formData)
                    .then((data) => { this.$router.push({ name: 'Game', params: { id: this.$route.params.id } }) })
                    .catch((error) => { console.log(error); });
            }
        },
        components: {

        }
    }
</script>
